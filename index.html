<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125454191-4"></script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125454191-4"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'UA-125454191-4');
        </script>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="UTF-8" />
        <title>Write Without Writing</title>
        <link rel="icon" type="image/png" href="images/icon.png"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Homemade+Apple|Roboto|Caveat|Liu+Jian+Mao+Cao&display=swap" />
        <link rel="stylesheet" href="./css/ribbon.css" />
        <link rel="stylesheet" href="./css/index.css" />
        <link rel="stylesheet" href="./css/features.css" />
    </head>
    <body>
        <h1 style="text-align: center; font-family: Homemade Apple;margin:10px;">Write Without Writing</h1>

        <div class="ribbon-menu">
            <div class="ribbon-section">
                <div class="tooltip">
                    <span class="tooltiptext">Font Style</span>
                    <select id="handwriting-font" onchange="ChangeFont(this);">
                        <option value="QEBEV" selected>QEBEV</option>
                        <option value="QEBradenHill">BradenHill</option>
                        <option value="QECarolineMutiboko">CarolineMutiboko</option>
                        <option value="QEDaveMergens">DaveMergens</option>
                        <option value="QEDavidReid">DavidReid</option>
                        <option value="QEDavidReidCAP">DavidReidCAP</option>
                        <option value="QEDonaldRoss">DonaldRoss</option>
                        <option value="QEDSFont">DSFont</option>
                        <option value="QEGarrettWMoretz">GarrettWMoretz</option>
                        <option value="QEgeeKzoid">EgeeKzoid</option>
                        <option value="QEGHHughes">GHHughes</option>
                        <option value="QEHerbertCooper">HerbertCooper</option>
                        <option value="QEJeffDungan">JeffDungan</option>
                        <option value="Hindi">Hindi</option>
                        <option value="QEJER">JER</option>
                        <option value="QEJohnCaplin">JohnCaplin</option>
                        <option value="QEJohnWilliams">JohnWilliams</option>
                        <option value="QEKevinKnowles">KevinKnowles</option>
                        <option value="QEKevinShirley">KevinShirley</option>
                        <option value="QEKunjarScript">KunjarScript</option>
                        <option value="QEMamasAndPapas">MamasAnsPapas</option>
                        <option value="QEPamRosenberry">PamRosenberry</option>
                        <option value="QEPhilipBean">PhilipBean</option>
                        <option value="QEPhillips">Phillips</option>
                        <option value="QERoystonSuch">RoystonSuch</option>
                        <option value="QERoystonSuchCAP">RoystonSuchCAP</option>
                        <option value="QERufus">Rufus</option>
                        <option value="QERuthStafford">RuthStafford</option>
                        <option value="QESamRoberts">SamRoberts</option>
                        <option value="QESamRoberts2">SamRoberts2</option>
                        <option value="QEScottWilliams">ScottWilliams</option>
                        <option value="QEVRead">VRead</option>
                    </select>
                </div>
                <div class="tooltip">
                    <span class="tooltiptext">Font Size</span>
                    <input class="input" id="font-size" min="0" step="0.5" value="10" style="width:50px;" type="number" onchange="ChangeFontSize(this);"/>
                </div>
                <div class="tooltip">
                    <span class="tooltiptext">Ink Color</span>
                    <select id="ink-color" style="width:67px;">
                        <option default value="#000f55">Blue</option>
                        <option value="black">Black</option>
                        <option value="#ba3807">Red</option>
                    </select>
                </div>

                <button class="button" onclick="document.execCommand('bold',false,null);"><strong style="font-family: bembo;">B</strong></button>
                <button class="button" onclick="document.execCommand('italic',false,null);"><strong style="font-family: bembo;"><i>I</i></strong></button>
                <button class="button" onclick="document.execCommand('underline',false,null);"><strong style="font-family: bembo; text-decoration: underline;">U</strong></button>
                <!--<button class="button" onclick="document.execCommand('line-through',false,null);"><strong style="font-family: bembo; text-decoration: line-through;">abc</strong></button>
                <button class="button"><strong style="font-family: bembo; font-size: 11px;">X<sub>2</sub></strong></button>
                <button class="button"><strong style="font-family: bembo; font-size: 11px;">X<sup>2</sup></strong></button>
                <button class="button"><strong style="font-family: bembo; border-bottom: 2px solid rgb(209, 209, 209);">A</strong></button>-->
                <div class="descript">Font</div>
            </div>
            <div class="separator"></div>
            <div class="ribbon-section">
                <div class="tooltip">
                    <span class="tooltiptext">Vertical Spacing</span>
                    <input id="top-padding" min="0" value="5" type="number" style="width: 50px;"/>
                </div>
                <div class="tooltip">
                    <span class="tooltiptext">Word Spacing</span>
                    <input id="word-spacing" min="0" value="0" type="number" style="width: 50px;"/>
                </div>
                <div class="tooltip">
                    <span class="tooltiptext">Letter Spacing</span>
                    <input id="letter-spacing" value="0" type="number" style="width:50px;"/>
                </div>
        
                <div class="tooltip">
                    <span class="tooltiptext">Page Effects</span>
                    <select id="page-effects" style="width:100px;">
                        <option default value="shadows">Shadows</option>
                        <option value="scanner">Scanner</option>
                        <option value="no-effect">No Effect</option>
                    </select>
                </div>
        
                <div class="tooltip">
                    <span class="tooltiptext">Page Resolution</span>
                        <select id="resolution" style="width:100px;">
                        <option value="0.8">Very Low</option>
                        <option value="1">Low</option>
                        <option selected value="2">Normal</option>
                        <option value="3">High</option>
                        <option value="4">Very High</option>
                    </select>
                </div>
                
                <label style="margin-left:10px;" for="paper-margin-toggle">Paper Margin:
                <span aria-label="paper margin status" class="status">on</span>
                </label>
                <label class="switch-toggle outer" style="top:20px;">
                <input aria-checked="true" checked aria-label="Paper Margin Button" id="paper-margin-toggle" style="display: inline-block;" type="checkbox" />                    
                <div></div>
                </label>
        
                <label style="margin-left: 10px;" for="paper-line-toggle">Paper Lines:
                <span aria-label="paper line status" class="status">on</span>
                </label>
                <label class="switch-toggle outer" style="top:20px;">
                <input aria-checked="true" checked aria-label="Paper Line Button" id="paper-line-toggle" type="checkbox" />
                <div></div>
                </label>

                <div class="descript">Page</div>

            </div>
            
            <div class="ribbon-section">
                <a target="blank" href="https://github.com/ParthNikam/Write-Without-Writing">Help make this site better!</a>
            </div>
            
            <div class="separator"></div>
        </div>

        <svg class="arrow">
            <path class="a1" d="M0 0 L30 22 L60 0"></path>
            <path class="a2" d="M0 20 L30 42 L60 20"></path>
            <path class="a3" d="M0 40 L30 62 L60 40"></path>
        </svg>
       
        <main>
        <section class="generate-image-section" style="margin-left: 650px;">
            <form id="generate-image-form">
                <!-- Generate Image Section -->
                <div class="display-flex output-grid responsive-flex">       
                <div >        
                    <div class="page-container">
                    <div class="page-a margined lines">
                      <div contenteditable="true" class="top-margin"></div>
                      <div class="display-flex left-margin-and-content">
                        <div contenteditable="true" class="left-margin"></div>
                        <div class="paper-content" id="note" contenteditable="true">
                          Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                          Ut rhoncus dui eget tortor feugiat iaculis. Morbi et dolor
                          in felis viverra efficitur. Integer id laoreet arcu.
                          Mauris turpis nibh, scelerisque sed tristique non,
                          hendrerit in erat. Duis interdum nisl risus, ac ultrices
                          ipsum auctor at. Aliquam faucibus iaculis metus sit amet
                          tincidunt. Vestibulum cursus urna vel nunc imperdiet
                          suscipit. Ut eu augue egestas, porta orci lobortis,
                          pharetra orci. Morbi eu tellus quis nisi tempor accumsan
                          nec eu urna. empor, ullamcorper tortor. Mauris quis
                          fermentum augue. Phasellus ac nisl hendrerit, fringilla
                          enim aliquam, placerat odio. Ut tortor nisi, pellentesque
                          sed nisi at, hendrerit imperdiet turpis. Proin interdum
                          porttitor metus at hendrerit. Proin ipsum nisl, lacinia
                          vitae purus ullamcorper, maximus convallis sem. Sed nec
                          lacinia lorem. Duis arcu metus, cursus non odio quis,
                          tincidunt tempor augue. Donec eget vestibulum risus.
                          Nullam blandit quis est vitae feugiat.
                        </div>
                      </div>
                      <div class="overlay"></div>
                    </div>
                    </div>

                    <div class="customization-col">
                        <div class="category-grid">
                            <div style="padding: 30px; margin-left: 50px;">
                                <button type="submit" data-testid="generate-image-button" class="generate-image-button">
                                Generate Image
                                </button>
                            </div> 
                        </div>
                    </div>
                </div>
                </div>
            </form>
        </section>

        <section>
            <h2 id="output-header" style="margin-left:200px">Output</h2>
            <div id="output" class="output" style="text-align: center; margin-left: 200px;">Images: None
            </div>
            <div style="text-align: center; padding: 30px;">
                <button class="imp-button" id="download-as-pdf-button">Download Images as PDF</button>
                <button class="delete-button" id="delete-all-button">Clear Images</button>
            </div>
        </section>
        
        <script src="./js/vendors/html2canvas.min.js" crossorigin="anonymous"></script>
        <script type="module" src="js/app.mjs"></script>
        <script defer src="https://unpkg.com/jspdf@^1/dist/jspdf.min.js"></script>
        <script>
            var getColor = function (input) {
                document.getElementById("colorOutput").innerHTML = input.value;
                document.getElementById("note").style.color = input.value;
                //document.querySelectorAll(".text") = input.value;
            }
        
            var ChangeFont = function (font) {
                setFontTo(font.value);
            }
        
            var ChangeFontSize = function (font) {
                document.getElementById("note").style.fontSize = font.value + "pt";
            }
        
            // Finally the code to control the @font-face with JavaScript
            function setFontTo(fontName) {
                const styleName = 'note';
                if (document.getElementById("new_font")) {
                newFontStyleSheet = document.getElementById("new_font");
                document.getElementById("note").removeChild(newFontStyleSheet);
                }
                var parent = document.getElementById(styleName);
                var newFontStyleSheet = document.createElement("style");
                newFontStyleSheet.id = "new_font";
                newFontStyleSheet.textContent = `
                        @font-face {
                        font-family: 'main-dynamic-font';
                        src: url(FONTS/${fontName}.ttf);
                    }`;
                parent.appendChild(newFontStyleSheet);
            }    
        </script>
        <script src="script.js"></script>
    </body>
</html>
